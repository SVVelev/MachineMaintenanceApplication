@using MachineMaintenanceApp.Web.ViewModels.DailyChecks
@using MachineMaintenanceApp.Data.Models
@using Microsoft.AspNetCore.Identity
@using MachineMaintenanceApp.Data.Models.Enums
@using MachineMaintenanceApp.Data.Common.Helpers
@inject UserManager<ApplicationUser> userManager
@model DetailsDailyChecksViewModel
@{
    ViewData["Title"] = "Details";
    ApplicationUser currentUser = await this.userManager.GetUserAsync(this.User);

    var myEnum = EnumHelper<DailyCheckType>.GetDisplayValue(Model.Type);
}


<h1 class="text-center">Details</h1>
<hr />
<div>
    <div class="form-group">
        <label asp-for="Type"></label>
        <input value="@myEnum" readonly class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="UserLastName"></label>
        <input asp-for="UserLastName" readonly class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="MachineInventoryNumber"></label>
        <input asp-for="MachineInventoryNumber" readonly class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="CreatedOn"></label>      
        <time datetime="@Model.CreatedOn.ToString("O")"  readonly class="form-control"></time>
    </div>
    <div class="form-group">
        <label asp-for="UserLastName"></label>
        <input asp-for="UserLastName" readonly class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="Notes"></label>
        <input asp-for="Notes" readonly class="form-control" />
    </div>

    <div class="text-center">
        <a href="/DailyCheck/DailyChecksPage/@Model.MachineId">
            <input type="submit" value="Back" class="btn btn-secondary" />
        </a>

        @if (currentUser.Id == Model.UserId)
        {
            <a href="/DailyCheck/Delete/@Model.Id">
                <input type="submit" value="Delete" class="btn btn-danger" />
            </a>

            <a href="/DailyCheck/Edit/@Model.Id">
                <input type="submit" value="Edit" class="btn btn-warning" />
            </a>
        }
    </div>
</div>






